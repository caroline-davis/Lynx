(()=>{"use strict";var e={9347:function(e,r,n){var t,o,i=n("1514"),a=n("4798"),l=new(n.n(a)())({onReady:function(){this.hideSwitch()}}),c=n("1793"),s=n("1100"),u=n("4633");let initSourcemapConsumer=function(e){u.SourceMapConsumer.initialize({"lib/mappings.wasm":e})};var d=n(304).Buffer;new ArrayBuffer(0);var loadFile=function(e){var r=e.type,n=e.data;("string"!=typeof r||"string"!=typeof n||0===n.length)&&console.warn("failed to load file: invalid file data");var t=d.from(n,"base64"),o=Uint8Array.from(t);"mappings.wasm"===r&&initSourcemapConsumer(o.buffer)},g=n("8516"),f=n("7517"),p=(0,f.oM)({name:"error",initialState:{errorsOnDisplay:[],cachedErrors:[]},reducers:{clearErrors:function(e){e.errorsOnDisplay=[]},addError:function(e,r){var n=r.payload;e.errorsOnDisplay=(null==e?void 0:e.errorsOnDisplay)?(0,g._)(e.errorsOnDisplay).concat([n.errorRecord]):[n.errorRecord]},pushErrorCache:function(e,r){var n=r.payload;e.cachedErrors=(null==e?void 0:e.cachedErrors)?(0,g._)(e.cachedErrors).concat([n]):[n]},popErrorCache:function(e){e.cachedErrors=e.cachedErrors.slice(1)},clearErrorCache:function(e){e.cachedErrors=[]}}}),m=p.actions,h=m.clearErrors,v=m.addError,_=m.pushErrorCache,b=m.popErrorCache,x=m.clearErrorCache;let y=p.reducer;var w=(0,f.oM)({name:"viewsInfo",initialState:{currentView:0,viewsCount:0,templateUrl:null,type:"redbox",showURL:!1},reducers:{updateViewsInfo:function(e,r){e.currentView=r.payload.currentView,e.viewsCount=r.payload.viewsCount,e.templateUrl=r.payload.templateUrl,e.type=r.payload.type},toggleURLDisplay:function(e){e.showURL=!(null==e?void 0:e.showURL)}}}),k=w.actions,E=k.updateViewsInfo,C=k.toggleURLDisplay;let S=w.reducer;var N=(0,f.xC)({reducer:{error:y,viewsInfo:S}});function getAppStore(){return N}var j=n("5749"),F=n("706");function parseJsonStringSafely(e){if(!e)return null;try{return JSON.parse(e)}catch(e){return console.log("failed to parse string to json object, error:",e),null}}var R=n("9232"),L=n("3283"),B=n("2916"),P=n("5286"),stackFrame_ScriptLine=function ScriptLine(e,r){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,R._)(this,ScriptLine),(0,P._)(this,"lineNumber",void 0),(0,P._)(this,"content",void 0),(0,P._)(this,"highlight",void 0),this.lineNumber=e,this.content=r,this.highlight=n},I=function(){function StackFrame(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,s=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null;(0,R._)(this,StackFrame),(0,P._)(this,"functionName",void 0),(0,P._)(this,"fileName",void 0),(0,P._)(this,"lineNumber",void 0),(0,P._)(this,"columnNumber",void 0),(0,P._)(this,"_originalFunctionName",void 0),(0,P._)(this,"_originalFileName",void 0),(0,P._)(this,"_originalLineNumber",void 0),(0,P._)(this,"_originalColumnNumber",void 0),(0,P._)(this,"_scriptCode",void 0),(0,P._)(this,"_originalScriptCode",void 0),e&&0===e.indexOf("Object.")&&(e=e.slice(7)),("friendlySyntaxErrorLabel"===e||"exports.__esModule"===e||"<anonymous>"===e||!e)&&(e=null),this.functionName=e,this.fileName=r,this.lineNumber=n,this.columnNumber=t,this._originalFunctionName=i,this._originalFileName=a,this._originalLineNumber=l,this._originalColumnNumber=c,this._scriptCode=o,this._originalScriptCode=s}return(0,L._)(StackFrame,[{key:"getFunctionName",value:function(){return this.functionName||"(anonymous function)"}},{key:"getSource",value:function(){var e="";return null!=this.fileName&&(e+=this.fileName+":"),null!=this.lineNumber&&(e+=this.lineNumber+":"),null!=this.columnNumber&&(e+=this.columnNumber+":"),e.slice(0,-1)}},{key:"toString",value:function(){var e=this.getFunctionName(),r=this.getSource();return"".concat(e).concat(r?" (".concat(r,")"):"")}}]),StackFrame}(),M=/\(?(.*?)(?::(-?\d+))?(?::(-?\d+))?\)?$/;function extractLocation(e){if(!e)return[null,null,null];var r=M.exec(e);return r?r.slice(1).map(function(e){if(""===e)return e;var r=Number(e);return isNaN(r)?e:r}):[null,null,null]}var H=/^\s*(at|in)\s.+(:\d+)/,T=/(^|@)\S+:\d+|.+line\s+\d+\s+>\s+(eval|Function).+/;function parseStackInternal(e){return e.filter(function(e){return H.test(e)||T.test(e)}).map(function(e){if(T.test(e)){var r=!1;/ > (eval|Function)/.test(e)&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > (eval|Function):\d+:\d+/g,":$1"),r=!0);var n=e.split(/[@]/g),t=n.pop();return(0,B._)(I,[n.join("@")||(r?"eval":null)].concat((0,g._)(extractLocation(t))))}-1!==e.indexOf("(eval ")&&(e=e.replace(/(\(eval at [^()]*)|(\),.*$)/g,"")),-1!==e.indexOf("(at ")&&(e=e.replace(/\(at /,"("));var o=e.trim().split(/\s+/g).slice(1),i=o.pop();return(0,B._)(I,[o.join(" ")||null].concat((0,g._)(extractLocation(i))))}).filter(function(e){return null!==e})}let stackParser=function parseStack(e){if(null==e)throw Error("You cannot pass a null object.");if("string"==typeof e)return parseStackInternal(e.split("\n"));if(Array.isArray(e))return parseStackInternal(e);if("string"==typeof e.stack)return parseStackInternal(e.stack.split("\n"));throw Error("The error you provided does not contain a stack trace.")};var O=function(){function SourceMap(e){(0,R._)(this,SourceMap),(0,P._)(this,"__source_map",void 0),this.__source_map=e}return(0,L._)(SourceMap,[{key:"getOriginalPosition",value:function(e,r){var n=this.__source_map.originalPositionFor({line:e,column:r});return{line:n.line,column:n.column,source:n.source}}},{key:"getGeneratedPosition",value:function(e,r,n){var t=this.__source_map.generatedPositionFor({source:e,line:r,column:n});return{line:t.line,column:t.column}}},{key:"getSource",value:function(e){return this.__source_map.sourceContentFor(e)}}]),SourceMap}();function extractSourceMapUrl(e,r){for(var n=/\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm,t=null;;){var o=n.exec(r);if(null==o)break;t=o}return t&&t[1]?t[1].toString():""}function getSourceMap_getSourceMap(e,r){return _getSourceMap.apply(this,arguments)}function _getSourceMap(){return(_getSourceMap=(0,c._)(function(e,r){var n,t,o,i,a,l;return(0,s.Jh)(this,function(c){switch(c.label){case 0:if(0!==(n=extractSourceMapUrl(e,r)).indexOf("data:"))return[3,2];if(t=/^data:application\/json;([\w=:"-]+;)*base64,/,!(o=n.match(t)))throw Error("Sorry, non-base64 inline source-map encoding is not supported.");return n=n.substring(o[0].length),n=JSON.parse(n=window.atob(n)),i=O.bind,[4,new u.SourceMapConsumer(n)];case 1:return[2,new(i.apply(O,[void 0,c.sent()]))];case 2:return[4,getBridge().queryResource(n)];case 3:return n=(a=c.sent())?JSON.parse(a):{},l=O.bind,[4,new u.SourceMapConsumer(n)];case 4:return[2,new(l.apply(O,[void 0,c.sent()]))];case 5:return[2]}})})).apply(this,arguments)}function getLinesAround_getLinesAround(e,r,n){"string"==typeof n&&(n=n.split("\n"));for(var t=[],o=Math.max(0,e-1-r);o<=Math.min(n.length-1,e-1+r);++o)t.push(new stackFrame_ScriptLine(o+1,n[o],o===e-1));return t}var D=n("3188");function getFilesInFrames(e){var r=[];return e.forEach(function(e){var n=e.fileName;if(null!=n&&-1===r.indexOf(n))r.push(n)}),r}function mapper_map(e){return _map.apply(this,arguments)}function _map(){return(_map=(0,c._)(function(e){var r,n,t,o,i=arguments;return(0,s.Jh)(this,function(a){switch(a.label){case 0:var l;return r=i.length>1&&void 0!==i[1]?i[1]:3,n=i.length>2?i[2]:void 0,t={},o=getFilesInFrames(e),[4,(0,D.settle)(o.map((l=(0,c._)(function(e){var r,o;return(0,s.Jh)(this,function(i){switch(i.label){case 0:return[4,n.getResource(e)];case 1:return[4,getSourceMap_getSourceMap(e,null!=(r=i.sent())?r:"")];case 2:return o=i.sent(),t[e]={fileSource:r,map:o},[2]}})}),function(e){return l.apply(this,arguments)})))];case 1:return a.sent(),[2,e.map(function(e){var n=e.functionName,o=e.fileName,i=e.lineNumber,a=e.columnNumber;if(null==o)return e;var l=t[o]||{},c=l.map,s=l.fileSource;if(null==c||null==i)return e;var u=c.getOriginalPosition(i,a),d=u.source,g=u.line,f=u.column,p=null==d?[]:c.getSource(d);return new I(n,o,i,a,getLinesAround_getLinesAround(i,r,s),n,d,g,f,getLinesAround_getLinesAround(g,r,p))})]}})})).apply(this,arguments)}function resourceNameMapping(e){if(-1!==e.indexOf("lynx_core.js"))return"core.js";var r=e.lastIndexOf("/");return e.substring(r+1)}var A=function(){function BTSErrorParser(){(0,R._)(this,BTSErrorParser)}return(0,L._)(BTSErrorParser,[{key:"parse",value:function(e){return(0,c._)(function(){var r,n,t,o,i,a,l;return(0,s.Jh)(this,function(u){switch(u.label){case 0:if(r={code:e.error_code,level:e.level},n=e.error,2!==(o=Math.floor((o=null!==(t=r.code)&&void 0!==t?t:0)/100))||!(i=parseJsonStringSafely(n))||!i.rawError||!i.rawError.stack)return[2,null];return r.stack=i.rawError.stack,(a=stackParser(i.rawError)).length>15&&(a=a.slice(0,15)),[4,mapper_map(a,3,{getResource:function(e){return(0,c._)(function(){var r,n;return(0,s.Jh)(this,function(t){switch(t.label){case 0:return r=resourceNameMapping(e),[4,getBridge().queryResource(r)];case 1:return[2,null!=(n=t.sent())?n:""]}})})()}})];case 1:return l=u.sent(),[2,{contextSize:3,message:i.rawError.message,stackFrames:l,errorProps:r}]}})})()}}]),BTSErrorParser}(),q=n("1945"),V=function(){function MTSResourceProvider(e){(0,R._)(this,MTSResourceProvider),(0,P._)(this,"debugInfo",void 0),this.debugInfo=e}return(0,L._)(MTSResourceProvider,[{key:"getResource",value:function(e){var r=this;return(0,c._)(function(){var e,n;return(0,s.Jh)(this,function(t){return r.debugInfo?r.debugInfo.lepusNG_debug_info?[2,null!==(e=r.debugInfo.lepusNG_debug_info.function_source)&&void 0!==e?e:null]:r.debugInfo.lepus_debug_info?[2,null!==(n=r.debugInfo.lepus_debug_info.function_source)&&void 0!==n?n:null]:[2,""]:[2,""]})})()}}]),MTSResourceProvider}(),J=function(){function MTSErrorParser(){(0,R._)(this,MTSErrorParser)}return(0,L._)(MTSErrorParser,[{key:"parse",value:function(e){var r=this;return(0,c._)(function(){var n,t,o,i,a,l,c,u,d,g;return(0,s.Jh)(this,function(s){switch(s.label){case 0:if(n={code:e.error_code,level:e.level},t=e.error,11!==Math.floor((null!==(o=n.code)&&void 0!==o?o:0)/100))return[2,null];if(i=parseJsonStringSafely(t),a=t,i&&i.rawError&&i.rawError.cause&&i.rawError.cause.cause&&(a=i.rawError.cause.cause),l=r.extractErrorInfo(a),n.stack=l.stack,(c=stackParser(l.stack)).length>15&&(c=c.slice(0,15)),u={contextSize:3,message:l.message,stackFrames:c,errorProps:n},!l.debugInfoUrl)return[2,u];return[4,getBridge().queryResource(l.debugInfoUrl)];case 1:if(!(d=parseJsonStringSafely(s.sent())))return console.log("Failed to parse main thread js error caused by invalid debug info"),[2,u];return[4,mapper_map(c=r.getStackFramesInProduction(c,d),3,new V(d))];case 2:return g=s.sent(),u.stackFrames=g,[2,u]}})})()}},{key:"extractErrorInfo",value:function(e){var r=(0,q._)(e.split("template_debug_url:"),2),n=r[0],t=r[1],o=(0,q._)(n.split("backtrace:"),2);return{message:o[0],stack:o[1],debugInfoUrl:t}}},{key:"getStackFramesInProduction",value:function(e,r){var n=null;r.lepusNG_debug_info?n=r.lepusNG_debug_info:r.lepus_debug_info&&(n=r.lepus_debug_info);var t=n?n.function_info:null;return e.map(function(e){if(!e.fileName&&(e.fileName="main-thread.js"),!t)return e;var r=null!==(i=e.lineNumber)&&void 0!==i?i:-1,n=null!==(a=e.columnNumber)&&void 0!==a?a:-1,o=t.find(function(e){return e.function_id===r});if(!o||-1===n)return e;if(o.line_col&&o.line_col.length>n){var i,a,l,c,s=o.line_col[n];e.lineNumber=null!==(l=s.line)&&void 0!==l?l:e.lineNumber,e.columnNumber=null!==(c=s.column)&&void 0!==c?c:e.columnNumber}else if(o.line_col_info&&o.line_col_info.line_col&&o.line_col_info.line_col.length>n){var u,d,g=o.line_col_info.line_col.at(n),f=null!==(u=g.line)&&void 0!==u?u:-1,p=null!==(d=g.column)&&void 0!==d?d:-1;0===f&&p>65536&&(e.lineNumber=p>>16&65535,e.columnNumber=65535&p)}return e})}}]),MTSErrorParser}(),U=function(){function DefaultErrorParser(){(0,R._)(this,DefaultErrorParser)}return(0,L._)(DefaultErrorParser,[{key:"parse",value:function(e){return(0,c._)(function(){var r,n;return(0,s.Jh)(this,function(t){return(null==e?void 0:e.error)?(r={code:e.sub_code,level:e.level,stack:e.error_stack,fixSuggestion:e.fix_suggestion},n={},e.root_cause&&(n.root_cause=e.root_cause),e.context&&Object.keys(e.context).forEach(function(r){n[r.slice("lynx_context_".length,r.length)]=e.context[r]}),r.criticalInfo=n,[2,{message:e.error,contextSize:3,errorProps:r}]):[2,null]})})()}}]),DefaultErrorParser}(),z=!1,W=[];function initAdapters(){if(!z)z=!0,W.push(new A),W.push(new J),W.push(new U)}function constructFallbackErrorRecord(e){return{message:e,contextSize:3,rawErrorText:e,errorProps:{code:-1}}}function parseErrorWrapper(e){return _parseErrorWrapper.apply(this,arguments)}function _parseErrorWrapper(){return(_parseErrorWrapper=(0,c._)(function(e){var r,n,t,o,i,a,l,c,u;return(0,s.Jh)(this,function(s){switch(s.label){case 0:if(initAdapters(),!(r=parseJsonStringSafely(e)))return console.warn("Failed to parse error, the raw string is:",e),[2,constructFallbackErrorRecord(e)];n=!0,t=!1,o=void 0,s.label=1;case 1:s.trys.push([1,9,10,11]),i=W[Symbol.iterator](),s.label=2;case 2:if(n=(a=i.next()).done)return[3,8];l=a.value,c=void 0,s.label=3;case 3:return s.trys.push([3,5,,6]),[4,l.parse(r)];case 4:return c=s.sent(),[3,6];case 5:return console.warn("Exception encountered while parsing raw error:",s.sent()),[3,6];case 6:if(c)return[2,(0,F._)((0,j._)({},c),{rawErrorText:e})];s.label=7;case 7:return n=!0,[3,2];case 8:return[3,11];case 9:return u=s.sent(),t=!0,o=u,[3,11];case 10:try{!n&&null!=i.return&&i.return()}finally{if(t)throw o}return[7];case 11:return[2,constructFallbackErrorRecord(e)]}})})).apply(this,arguments)}function add(e){return _add.apply(this,arguments)}function _add(){return(_add=(0,c._)(function(e){var r;return(0,s.Jh)(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,parseErrorWrapper(e)];case 1:return r=n.sent(),N.dispatch(v({errorRecord:r})),[3,3];case 2:return console.warn("Error occurred when add error data:",n.sent()),[3,3];case 3:return[2]}})})).apply(this,arguments)}var G="logbox",Z=0;function callBridge(e,r,n){window[G].call(e,r,n)}function addEventListener(e,r){window[G].on(e,r)}function onNewLog(e){console.log("onNewLog: ",e),Z<5?(add(e),Z+=1):N.dispatch(_(e))}var K={addEventListeners:function(){addEventListener("receiveNewError",function(e){onNewLog(e)}),addEventListener("receiveNewWarning",function(e){onNewLog(e)}),addEventListener("receiveViewInfo",function(e){console.log("receiveViewInfo",e),N.dispatch(E(e))}),addEventListener("reset",function(){console.log("reset"),N.dispatch(h()),N.dispatch(x()),Z=0}),addEventListener("loadFile",function(e){console.log("loadFile"),loadFile(e)})},getErrorData:function(){callBridge("getExceptionStack",function(){},{})},toastMessage:function(e){callBridge("toast",function(){},{message:e})},dismissError:function(){Z=0,callBridge("dismiss",function(){},{})},queryResource:function(e){return new Promise(function(r,n){return callBridge("queryResource",function(e){r("".concat(e))},{name:e})})},changeView:function(e){Z=0,callBridge("changeView",function(){},{viewNumber:e})},deleteCurrentView:function(e){Z=0,callBridge("deleteLynxview",function(){},{viewNumber:e})}};function getBridgeReadyPromise(){return o=null!=o?o:new Promise(function(e){return document.addEventListener("LogBoxReady",e)})}var Q={addEventListeners:function(){getBridgeReadyPromise().then(function(){return K.addEventListeners()})},getErrorData:function(){return(0,c._)(function(){return(0,s.Jh)(this,function(e){switch(e.label){case 0:return[4,getBridgeReadyPromise()];case 1:return e.sent(),K.getErrorData(),[2]}})})()},toastMessage:function(e){getBridgeReadyPromise().then(function(){return K.toastMessage(e)})},dismissError:function(){getBridgeReadyPromise().then(function(){return K.dismissError()})},queryResource:function(e){return(0,c._)(function(){return(0,s.Jh)(this,function(r){switch(r.label){case 0:return[4,getBridgeReadyPromise()];case 1:return r.sent(),[2,K.queryResource(e)]}})})()},changeView:function(e){getBridgeReadyPromise().then(function(){return K.changeView(e)})},deleteCurrentView:function(e){getBridgeReadyPromise().then(function(){return K.deleteCurrentView(e)})}};function isBridgeExists(){return!!window.logbox}function getBridge(){return isBridgeExists()?K:Q}var X=n("9700"),Y=n("8521"),$=n("5940");var ee=((t={}).Verbose="verbose",t.Info="info",t.Warning="warn",t.Error="error",t.Fatal="fatal",t),er=n("8154"),en=n("9228"),et=null;let ErrorOverlay=function ErrorOverlay_ErrorOverlay(e){var r=(0,X.useContext)(e_),n=e.shortcutHandler;return(0,X.useEffect)(function(){var onKeyDown=function(e){n&&n(e.key)};return window.addEventListener("keydown",onKeyDown),et&&et.addEventListener("keydown",onKeyDown),function(){window.removeEventListener("keydown",onKeyDown),et&&et.removeEventListener("keydown",onKeyDown)}},[n]),(0,i.jsx)("div",{style:{position:"relative",display:"inline-flex",flexDirection:"column",width:"1024px",maxWidth:"100%",overflowX:"hidden",overflowY:"auto",padding:"0.5rem",boxSizing:"border-box",textAlign:"left",fontFamily:"Consolas, Menlo, monospace",fontSize:"11px",whiteSpace:"pre-wrap",wordBreak:"break-word",lineHeight:1.5,color:r.color},ref:function(e){e&&(et=e.ownerDocument.defaultView)},children:e.children})};var eo=n("5716"),ei=n("2766"),ea={position:"relative",display:"block",padding:"0.5em",marginTop:"0.5em",marginBottom:"0.5em",overflowX:"auto",whiteSpace:"pre-wrap",borderRadius:"0.25rem"},el={fontFamily:"Consolas, Menlo, monospace"};let components_CodeBlock=function CodeBlock(e){var r=e.main,n=e.codeHTML,t=(0,X.useContext)(e_),o=(0,F._)((0,j._)({},ea),{backgroundColor:t.primaryPreBackground,color:t.primaryPreColor}),a=(0,F._)((0,j._)({},ea),{backgroundColor:t.secondaryPreBackground,color:t.secondaryPreColor});return(0,i.jsx)("pre",{style:r?o:a,children:(0,i.jsx)("code",{style:el,dangerouslySetInnerHTML:{__html:n}})})};function removeNextBr(e,r){for(;null!=r&&"br"!==r.tagName.toLowerCase();)r=r.nextElementSibling;null!=r&&e.removeChild(r)}function absolutifyCaret(e){for(var r=e.childNodes,n=0;n<r.length;++n){var t=r[n];if("span"!==t.tagName.toLowerCase())continue;var o=t.innerText;if(null!=o&&"|^"===o.replace(/\s/g,""))t.style.position="absolute",removeNextBr(e,t)}}var ec=n("3045"),es=n.n(ec),eu=new(n("8556")).AllHtmlEntities,ed={"ansi-bright-black":"black","ansi-bright-yellow":"yellow","ansi-yellow":"yellow","ansi-bright-green":"green","ansi-green":"green","ansi-bright-cyan":"cyan","ansi-cyan":"cyan","ansi-bright-red":"red","ansi-red":"red","ansi-bright-magenta":"magenta","ansi-magenta":"magenta","ansi-white":"darkgrey"};let generateAnsiHTML=function generateAnsiHTML_generateAnsiHTML(e,r){for(var n=new(es())().ansiToJson(eu.encode(e),{use_classes:!0}),t="",o=!1,i=0;i<n.length;++i){for(var a=n[i],l=a.content,c=a.fg,s=l.split("\n"),u=0;u<s.length;++u){!o&&(t+='<span data-ansi-line="true">',o=!0);var d,g=s[u].replace("\r","");var f={reset:[(d=r).base05,"transparent"],black:d.base05,red:d.base08,green:d.base0B,yellow:d.base08,blue:d.base0C,magenta:d.base0C,cyan:d.base0E,gray:d.base03,lightgrey:d.base01,darkgrey:d.base03}[ed[c]];null!=f?t+='<span style="color: '+f+';">'+g+"</span>":(null!=c&&console.log("Missing color mapping: ",c),t+="<span>"+g+"</span>"),u<s.length-1&&(o=!1,t+="</span><br/>")}}return o&&(t+="</span>",o=!1),t},StackFrameCodeBlock=function StackFrameCodeBlock_StackFrameCodeBlock(e){var r=(0,X.useContext)(e_),n=e.lines,t=e.lineNum,o=e.columnNum,a=e.contextSize,l=e.main,c=[],s=1/0;n.forEach(function(e){var r=e.content,n=r.match(/^\s*/);if(""!==r)s=n&&n[0]?Math.min(s,n[0].length):0}),n.forEach(function(e){var r=e.content,n=e.lineNumber;isFinite(s)&&(r=r.substring(s)),c[n-1]=r});var u=generateAnsiHTML((0,ei.codeFrameColumns)(c.join("\n"),{start:{line:t,column:null==o?0:o-(isFinite(s)?s:0)}},{forceColor:!0,linesAbove:a,linesBelow:a}),r),d=document.createElement("code");d.innerHTML=u,absolutifyCaret(d);var g=d.childNodes;e:for(var f=0;f<g.length;++f){for(var p=g[f].childNodes,m=0;m<p.length;++m){var h=p[m].innerText;if(null!=h&&-1!==h.indexOf(" "+t+" |"))break e}}return(0,i.jsx)(components_CodeBlock,{main:l,codeHTML:d.innerHTML})};function getPrettyURL(e,r,n,t,o,i,a,l){if(l)return"".concat(t,":").concat(o);if(!a&&e&&"number"==typeof r){var c,s=/^[/|\\].*?[/|\\]((src|node_modules)[/|\\].*)/.exec(e);c=(s&&s[1]?s[1]:e)+(":"+r),n&&(c+=":"+n)}else t&&"number"==typeof o?(c=t+":"+o,i&&(c+=":"+i)):c="unknown";return c.replace("webpack://",".")}let containers_StackFrame=function StackFrame_StackFrame(e){var r,n=(0,X.useContext)(e_),t=(0,q._)((0,X.useState)(!1),2),o=t[0],a=t[1],getErrorLocation=function(){var r=e.frame,n=r._originalFileName,t=r._originalLineNumber;return n&&-1===n.trim().indexOf(" ")?{fileName:n,lineNumber:t||1}:null},editorHandler=function(){var r=getErrorLocation();if(!!r)e.editorHandler&&e.editorHandler(r)},l=e.frame,c=e.contextSize,s=e.critical,u=e.showCode,d=l.fileName,g=l.lineNumber,f=l.columnNumber,p=l.isNativeStack,m=l._scriptCode,h=l._originalFileName,v=l._originalLineNumber,_=l._originalColumnNumber,b=l._originalScriptCode,x=l.getFunctionName(),y=getPrettyURL(h,v,_,d,g,f,o,p),w=null;u&&(o&&m&&0!==m.length&&null!=g?w={lines:m,lineNum:g,columnNum:f,contextSize:c,main:s}:!o&&b&&0!==b.length&&null!=v&&(w={lines:b,lineNum:v,columnNum:_,contextSize:c,main:s}));var k=null!==getErrorLocation()&&null!==e.editorHandler;return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{children:x}),(0,i.jsx)("div",{style:{fontSize:"0.9em",marginBottom:"0.9em"},children:(0,i.jsx)("span",{style:k?{textDecoration:"none",color:n.anchorColor,cursor:"pointer"}:null,onClick:k?editorHandler:null,onKeyDown:k?function(e){"Enter"===e.key&&editorHandler()}:null,tabIndex:k?"0":null,children:y})}),w&&(0,i.jsxs)("span",{children:[(0,i.jsx)("span",{onClick:k?editorHandler:null,style:k?{cursor:"pointer"}:null,children:(0,i.jsx)(StackFrameCodeBlock,(0,j._)({},w))}),(0,i.jsx)("button",{style:{marginBottom:"1.5em",color:(r=n).toggleColor,cursor:"pointer",border:"none",display:"block",width:"100%",textAlign:"left",background:r.toggleBackground,fontFamily:"Consolas, Menlo, monospace",fontSize:"1em",padding:"0px",lineHeight:"1.5"},onClick:function(){a(!o)},children:"View "+(o?"source":"compiled")})]})]})};var eg={cursor:"pointer",border:"none",display:"block",width:"100%",textAlign:"left",fontFamily:"Consolas, Menlo, monospace",fontSize:"1em",padding:"0px",lineHeight:"1.5"},collapsibleExpandedStyle=function(e){return(0,F._)((0,j._)({},eg),{color:e.color,background:"transparent",marginBottom:"0.6em"})};let components_Collapsible=function Collapsible(e){var r,n=(0,X.useContext)(e_),t=(0,q._)((0,X.useState)(!1),2),o=t[0],a=t[1],toggleCollapsed=function(){a(!o)},l=e.children.length;return(0,i.jsxs)("div",{children:[(0,i.jsx)("button",{onClick:toggleCollapsed,style:o?(r=n,(0,F._)((0,j._)({},eg),{color:r.color,background:"transparent",marginBottom:"1.5em"})):collapsibleExpandedStyle(n),children:(o?"▶":"▼")+" ".concat(l," stack frames were ")+(o?"collapsed.":"expanded.")}),(0,i.jsxs)("div",{style:{display:o?"none":"block"},children:[e.children,(0,i.jsx)("button",{onClick:toggleCollapsed,style:collapsibleExpandedStyle(n),children:"▲ ".concat(l," stack frames were expanded.")})]})]})};function isInternalFile(e,r){return null==e||""===e||-1!==e.indexOf("/~/")||-1!==e.indexOf("/node_modules/")||-1!==e.trim().indexOf(" ")||null==r||""===r}function isBuiltinErrorName(e){switch(e){case"EvalError":case"InternalError":case"RangeError":case"ReferenceError":case"SyntaxError":case"TypeError":case"URIError":return!0;default:return!1}}var ef={fontSize:"1em",flex:"0 1 auto",minHeight:"0px",overflow:"auto"},ep=function(e){function StackTrace(){return(0,R._)(this,StackTrace),(0,er._)(this,StackTrace,arguments)}return(0,en._)(StackTrace,e),(0,L._)(StackTrace,[{key:"renderFrames",value:function(){var e=this.props,r=e.stackFrames,n=e.errorName,t=e.contextSize,o=e.editorHandler,a=[],l=!1,c=[],s=0;return r&&r.forEach(function(e,u){var d=e.fileName,g=isInternalFile(e._originalFileName,d),f=!isBuiltinErrorName(n),p=g&&(f||l);!g&&(l=!0);var m=(0,i.jsx)(containers_StackFrame,{frame:e,contextSize:t,critical:0===u,showCode:!p,editorHandler:o},"frame-"+u),h=u===r.length-1;p&&c.push(m),(!p||h)&&(1===c.length?a.push(c[0]):c.length>1&&(s++,a.push((0,i.jsx)(components_Collapsible,{children:c},"bundle-"+s))),c=[]),!p&&a.push(m)}),a}},{key:"render",value:function(){return(0,i.jsx)("div",{style:ef,children:this.renderFrames()})}}]),StackTrace}(X.Component);n("979"),n(1129);var em={display:"flex",flexDirection:"column"};let containers_RuntimeError=function RuntimeError(e){var r=e.errorRecord,n=e.editorHandler,t=(0,q._)((0,X.useState)(!1),2),o=t[0],a=t[1],l=r.error,c=r.contextSize,s=r.stackFrames;return(0,i.jsxs)("div",{style:em,children:[(0,i.jsx)(ep,{stackFrames:s,errorName:l.name,contextSize:c,editorHandler:n}),(0,i.jsx)("div",{onClick:function(){a(!o)},style:{color:"#9e9e9e",background:"#e6e6e6",textAlign:"center",border:"1px solid #d4d4d4",borderRadius:"5px",height:"28px",display:"flex",justifyContent:"center",alignItems:"center"},children:"Show/Hide Raw Stack"}),o?(0,i.jsx)(eo.UnControlled,{autoScroll:!1,value:l.stack,options:{mode:"clike",theme:"default",lineNumbers:!1,readOnly:!0}}):null]})};var eh=function(e){function RuntimeErrorContainer(e){var r;return(0,R._)(this,RuntimeErrorContainer),(r=(0,er._)(this,RuntimeErrorContainer,[e])).state={currentIndex:0},r.previous=function(){r.setState(function(e,r){return{currentIndex:e.currentIndex>0?e.currentIndex-1:r.errorRecords.length-1}})},r.next=function(){r.setState(function(e,r){return{currentIndex:e.currentIndex<r.errorRecords.length-1?e.currentIndex+1:0}})},r.shortcutHandler=function(e){"Escape"===e?r.props.close():"ArrowLeft"===e?r.previous():"ArrowRight"===e&&r.next()},r}return(0,en._)(RuntimeErrorContainer,e),(0,L._)(RuntimeErrorContainer,[{key:"render",value:function(){var e=this.props.errorRecords;return e.length,(0,i.jsx)(ErrorOverlay,{shortcutHandler:this.shortcutHandler,children:(0,i.jsx)(containers_RuntimeError,{errorRecord:e[this.state.currentIndex],editorHandler:this.props.editorHandler})})}}]),RuntimeErrorContainer}(X.PureComponent),ev={background:"white",color:"black",headerColor:"#ce1126",primaryPreBackground:"rgba(206, 17, 38, 0.05)",primaryPreColor:"inherit",secondaryPreBackground:"rgba(251, 245, 180, 0.3)",secondaryPreColor:"inherit",footer:"#878e91",anchorColor:"#878e91",toggleBackground:"transparent",toggleColor:"#878e91",closeColor:"#293238",navBackground:"rgba(206, 17, 38, 0.05)",navArrow:"#ce1126",base01:"#f5f5f5",base03:"#6e6e6e",base05:"#333333",base08:"#881280",base0B:"#1155cc",base0C:"#994500",base0E:"#c80000"},e_=(0,X.createContext)();function ErrorContainer(e){var r=e.currentRuntimeErrorRecords,n=e.dismissRuntimeErrors;return r.length>0?(0,i.jsx)(e_.Provider,{value:ev,children:(0,i.jsx)(eh,{errorRecords:r,close:n})}):null}let eb={container:"container-KmvFe1","log-container":"log-container-HGwNx1",logContainer:"log-container-HGwNx1","log-container--verbose":"log-container--verbose-Bu5QZS",logContainerVerbose:"log-container--verbose-Bu5QZS","log-container--info":"log-container--info-LG324l",logContainerInfo:"log-container--info-LG324l","log-container--warn":"log-container--warn-nxn2c3",logContainerWarn:"log-container--warn-nxn2c3","log-container--error":"log-container--error-CZBEVi",logContainerError:"log-container--error-CZBEVi","log-header":"log-header-FcC7Ko",logHeader:"log-header-FcC7Ko","log-header--verbose":"log-header--verbose-gFsrE_",logHeaderVerbose:"log-header--verbose-gFsrE_","log-header--info":"log-header--info-y352HH",logHeaderInfo:"log-header--info-y352HH","log-header--warn":"log-header--warn-_nlK8k",logHeaderWarn:"log-header--warn-_nlK8k","log-header--error":"log-header--error-n4o4js",logHeaderError:"log-header--error-n4o4js","log-content":"log-content-jJVDGV",logContent:"log-content-jJVDGV","log-content--verbose":"log-content--verbose-kdgZ2r",logContentVerbose:"log-content--verbose-kdgZ2r","log-content--info":"log-content--info-bmXoTy",logContentInfo:"log-content--info-bmXoTy","log-content--warn":"log-content--warn-nTANIv",logContentWarn:"log-content--warn-nTANIv","log-content--error":"log-content--error-fWQkQH",logContentError:"log-content--error-fWQkQH","log-message":"log-message-quf102",logMessage:"log-message-quf102",empty:"empty-becV52",link:"link-sRw_sR",muted:"muted-diE9ag"};var ex=n("2262"),ey=n.n(ex),ew=n("8597");function getScrollTop(){var e=0;return document.documentElement&&document.documentElement.scrollTop?e=document.documentElement.scrollTop:document.body&&(e=document.body.scrollTop),Math.ceil(e)}function getScrollBarHeight(){return Math.ceil(document.documentElement.clientHeight)}function getPageHeight(){return Math.ceil(Math.max(document.body.clientHeight,document.documentElement.scrollHeight))}function createErrorItem(e,r,n){var t,o=(0,$.I0)();window.onscroll=function(){if(getScrollTop()+getScrollBarHeight()+50>=getPageHeight()&&(null==n?void 0:n.length)>0){var e;(e=(0,c._)(function(e){return(0,s.Jh)(this,function(r){switch(r.label){case 0:return[4,add(e)];case 1:return r.sent(),[2]}})}),function(r){return e.apply(this,arguments)})(n[0]),o(b())}};var a="verbose";switch(null!==(t=e.errorProps.level)&&void 0!==t?t:ee.Error){case ee.Error:case ee.Fatal:a="error";break;case ee.Info:a="info";break;case ee.Warning:a="warn"}return(0,i.jsxs)("div",{className:eb["log-container"]+" "+eb["log-container--"+a],children:[(0,i.jsxs)("div",{className:eb["log-header"]+" "+eb["log-header--"+a],children:[(0,i.jsx)("div",{style:{flexGrow:1},children:a.toLocaleUpperCase()}),(0,i.jsx)("div",{style:{padding:"2px 0px 0px 0px"},children:(0,i.jsx)(ew.Z,{style:{fontSize:"16px",color:"white"},onClick:function(){void 0!==e.rawErrorText&&(ey()(e.rawErrorText),getBridge().toastMessage("Error message copied"))}})})]}),(0,i.jsxs)("div",{className:eb["log-content"]+" "+eb["log-content--"+a],children:[(0,i.jsx)("div",{className:eb["log-message"],children:e.stackFrames?e.message:DisplayNativeError(e)}),e.stackFrames&&(0,i.jsx)(ErrorContainer,{currentRuntimeErrorRecords:[{error:{message:e.message,name:"",stack:e.errorProps.stack},stackFrames:e.stackFrames}]})]})]},r)}function DisplayNativeError(e){var r=e.errorProps;return(0,i.jsxs)("div",{children:[r.code>0&&DisplayFieldOfNativeError("code",r.code),DisplayFieldOfNativeError("message",e.message),r.fixSuggestion&&DisplayFieldOfNativeError("suggestion",r.fixSuggestion),r.criticalInfo&&Object.entries(r.criticalInfo).map(function(e){var r=(0,q._)(e,2);return DisplayFieldOfNativeError(r[0],r[1])})]})}function DisplayFieldOfNativeError(e,r){return(0,i.jsxs)("div",{style:{marginBottom:"3px"},children:[(0,i.jsx)("strong",{children:e}),": ",r]},e)}var DisplayError=function DisplayErrorImpl(){var e,r=(0,$.v9)(function(e){return e.error.errorsOnDisplay}),n=(0,$.v9)(function(e){return e.error.cachedErrors}),t=(0,$.v9)(function(e){return e.viewsInfo}),o=t.showURL,a=new URLSearchParams(window.location.search).get("url"),l={message:"Current debugging page: \n ".concat((null==t?void 0:t.templateUrl)?null==t?void 0:t.templateUrl:a),contextSize:0,errorProps:{code:0,level:ee.Verbose}},c=o?r?[l].concat((0,g._)(r)):[l]:r,s=null!==(e=null==t?void 0:t.viewsCount)&&void 0!==e?e:0;return r&&r.length>0?(0,i.jsxs)("div",{className:eb.container,style:{marginTop:s>1?"90px":"50px"},children:[(0,i.jsx)("div",{style:{display:"flex"},children:(0,i.jsx)("div",{style:{flexGrow:1,textAlign:"center",margin:0,padding:10}})}),c?c.map(function(e,r){return createErrorItem(e,r,n)}):void 0]}):(0,i.jsx)("div",{className:eb.container,children:(0,i.jsx)("div",{className:eb.empty,children:(0,i.jsxs)("div",{style:{width:"100%",textAlign:"center"},children:["Error data is loading, please wait",(0,i.jsx)("br",{})]})})})};let ek="container-WnpvPa",eE="expand-rPwZCD";function Layout(e){return(0,i.jsxs)("div",{className:ek,children:[e.header,e.content,(0,i.jsx)("div",{className:eE}),e.footer]})}let eC="power-container-IZlboN",eS="icon-YCwCB1";function Footer(){return(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:eC,children:[(0,i.jsx)("img",{className:eS,src:"./LynxIcon.svg"}),(0,i.jsx)("span",{children:" Lynx "})]})})}let eN={container:"container-RXAkBp",icon:"icon-SF4kog",title:"title-QYVPqt",expand:"expand-J8y0Jm","button-icon":"button-icon-O5G784",gap:"gap-WaI_8f"};var ej=n("8041"),eF=n("1701"),eR=n("68"),eL={border:"none",borderRadius:"4px",padding:"3px 6px",cursor:"pointer"},Header=function HeaderImpl(e){var r,n,t=(0,$.v9)(function(e){return e.viewsInfo}),o=t.currentView,a=t.viewsCount,c=t.type,s=t.templateUrl,u=(0,q._)((0,X.useState)(0),2),d=u[0],g=u[1],f=(0,$.I0)();d>5&&l.showSwitch();var clickCallback=function(){g(d+1)},clearErrorAndEntry=function(){f(h()),f(x())},p=new URLSearchParams(window.location.search),m=null!=s?s:p.get("url");return(0,i.jsxs)("div",{className:eN.container,style:{height:a>1?"90px":"50px"},children:[(0,i.jsxs)("div",{className:eN.container,style:{height:"40px",display:a>1?"flex":"none",backgroundColor:"redbox"===c?"#CD5C5C":"#F0E68C"},children:[(0,i.jsx)("button",{onClick:function(){var e=o-1<1?a:o-1;clearErrorAndEntry(),getBridge().changeView(e)},style:(r=c,(0,F._)((0,j._)({},eL),{backgroundColor:"redbox"===r?"#CD5C5C":"#F0E68C",color:"black",borderTopRightRadius:"0px",borderBottomRightRadius:"0px",marginRight:"1px",flex:1})),children:"PREVIOUS"}),(0,i.jsx)("span",{children:"".concat(o," / ").concat(a," ")}),(0,i.jsx)("button",{onClick:function(){var e=o+1<=a?o+1:1;clearErrorAndEntry(),getBridge().changeView(e)},style:(n=c,(0,F._)((0,j._)({},eL),{backgroundColor:"redbox"===n?"#CD5C5C":"#F0E68C",color:"black",borderTopLeftRadius:"0px",borderBottomLeftRadius:"0px",right:0,flex:1})),children:"NEXT"})]}),(0,i.jsxs)("div",{className:eN.container,style:{height:"50px",top:a>1?40:0},children:[(0,i.jsx)("img",{className:eN.icon,src:"./LynxIcon.svg",onClick:function(){clickCallback()}}),(0,i.jsx)("span",{className:eN.title,children:"Lynx "}),(0,i.jsx)("span",{className:eN.expand}),!!m&&(0,i.jsx)(ej.Z,{className:eN["button-icon"],onClick:function(){f(C())}}),(0,i.jsx)("span",{className:eN.gap}),(0,i.jsx)(eF.Z,{className:eN["button-icon"],onClick:function(){clearErrorAndEntry(),getBridge().deleteCurrentView(o)}}),(0,i.jsx)("span",{className:eN.gap}),(0,i.jsx)(eR.Z,{className:eN["button-icon"],style:{marginRight:"8px"},onClick:function(){clearErrorAndEntry(),getBridge().dismissError()}})]})]})};let pages=function IndexPage(){return(0,X.useEffect)(function(){var e;(e=(0,c._)(function(){return(0,s.Jh)(this,function(e){switch(e.label){case 0:return[4,getBridge().getErrorData()];case 1:return e.sent(),[2]}})}),function(){return e.apply(this,arguments)})()},[]),(0,i.jsx)($.zt,{store:N,children:(0,i.jsx)(Layout,{content:(0,i.jsx)(DisplayError,{}),header:(0,i.jsx)(Header,{}),footer:(0,i.jsx)(Footer,{})})})};getBridgeReadyPromise(),getBridge().addEventListeners(),(0,Y.createRoot)(document.getElementById("root")).render((0,i.jsx)(pages,{}))},1351:function(){}},r={};function __webpack_require__(n){var t=r[n];if(void 0!==t)return t.exports;var o=r[n]={exports:{}};return e[n].call(o.exports,o,o.exports,__webpack_require__),o.exports}__webpack_require__.m=e,__webpack_require__.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(r,{a:r}),r},__webpack_require__.d=function(e,r){for(var n in r)__webpack_require__.o(r,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},(()=>{var e=[];__webpack_require__.O=function(r,n,t,o){if(n){o=o||0;for(var i=e.length;i>0&&e[i-1][2]>o;i--)e[i]=e[i-1];e[i]=[n,t,o];return}for(var a=1/0,i=0;i<e.length;i++){for(var n=e[i][0],t=e[i][1],o=e[i][2],l=!0,c=0;c<n.length;c++)(!1&o||a>=o)&&Object.keys(__webpack_require__.O).every(function(e){return __webpack_require__.O[e](n[c])})?n.splice(c--,1):(l=!1,o<a&&(a=o));if(l){e.splice(i--,1);var s=t();void 0!==s&&(r=s)}}return r}})(),__webpack_require__.rv=function(){return"1.1.8"},(()=>{var e={980:0};__webpack_require__.O.j=function(r){return 0===e[r]};var webpackJsonpCallback=function(r,n){var t=n[0],o=n[1],i=n[2],a,l,c=0;if(t.some(function(r){return 0!==e[r]})){for(a in o)__webpack_require__.o(o,a)&&(__webpack_require__.m[a]=o[a]);if(i)var s=i(__webpack_require__)}for(r&&r(n);c<t.length;c++)l=t[c],__webpack_require__.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return __webpack_require__.O(s)},r=self.webpackChunk_lynx_js_logbox=self.webpackChunk_lynx_js_logbox||[];r.forEach(webpackJsonpCallback.bind(null,0)),r.push=webpackJsonpCallback.bind(null,r.push.bind(r))})(),__webpack_require__.ruid="bundler=rspack@1.1.8";var n=__webpack_require__.O(void 0,["361","167"],function(){return __webpack_require__("9347")});n=__webpack_require__.O(n)})();